/* style.css - Основные стили для интерфейса игры (обновленная версия) */

:root {
    /* Цветовая палитра */
    --color-background-dark: #1a1a1a;
    --color-background-medium: #2a2a2a;
    --color-background-light: #3a3a3a;
    --color-border: #4a4a4a;
    --color-text-light: #e0e0e0;
    --color-text-medium: #b0b0b0;
    --color-text-dark: #808080;
    --color-primary: #4CAF50; /* Зеленый - для акцентов, здоровья */
    --color-primary-hover: #5cb85c;
    --color-secondary: #FFC107; /* Желтый - для предупреждений, ресурсов */
    --color-danger: #F44336; /* Красный - для опасностей, урона */
    --color-info: #2196F3; /* Синий - для информации */
    --color-disabled: #666; /* Цвет для отключенных элементов */
    --color-unavailable: #503030; /* Фон для недоступных элементов (крафт) */
    --color-missing-ingredient: #f44336; /* Красный для отсутствующих ингредиентов */
    --color-has-ingredient: #4CAF50; /* Зеленый для имеющихся ингредиентов */


    /* Отступы и размеры */
    --spacing-xs: 5px;
    --spacing-sm: 10px;
    --spacing-md: 15px;
    --spacing-lg: 20px;
    --spacing-xl: 30px;

    /* Шрифты */
    --font-primary: 'Roboto', sans-serif;
    --font-secondary: 'Press Start 2P', cursive; /* Для заголовков или ретро-эффектов */
    --font-size-base: 1em;
    --font-size-lg: 1.2em;
    --font-size-xl: 1.5em;
}

/* Общие стили для тела страницы */
body {
    font-family: var(--font-primary);
    background-color: var(--color-background-dark);
    color: var(--color-text-light);
    margin: 0;
    padding: var(--spacing-lg);
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    box-sizing: border-box;
    line-height: 1.6;
    font-size: var(--font-size-base);
}

/* Главный контейнер игры */
#game-container {
    background-color: var(--color-background-medium);
    border: 1px solid var(--color-border);
    border-radius: var(--spacing-md);
    padding: var(--spacing-xl);
    max-width: 900px; /* Увеличиваем ширину для масштабности */
    width: 100%;
    box-shadow: 0 0 25px rgba(0, 0, 0, 0.7);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
}

/* Заголовок игры */
#game-header {
    text-align: center;
    margin-bottom: var(--spacing-md);
}

#game-header h1 {
    font-family: var(--font-secondary);
    color: var(--color-primary);
    font-size: var(--font-size-xl);
    margin-bottom: var(--spacing-sm);
    text-shadow: 0 0 5px rgba(76, 175, 80, 0.5); /* Небольшая тень для свечения */
}

/* Статус-бар */
#status-bar {
    background-color: var(--color-background-light);
    border: 1px solid var(--color-border);
    border-radius: var(--spacing-sm);
    padding: var(--spacing-md);
    display: flex;
    flex-wrap: wrap; /* Для переноса элементов на новую строку */
    gap: var(--spacing-md);
    justify-content: space-around;
    font-size: 0.95em;
}

.status-group {
    flex: 1; /* Распределяем пространство равномерно */
    min-width: 250px; /* Минимальная ширина для каждого блока статуса */
    padding: var(--spacing-sm);
    border: 1px solid var(--color-border);
    border-radius: var(--spacing-sm);
    background-color: #333;
}

.status-group h3 {
    font-family: var(--font-primary);
    color: var(--color-secondary);
    margin-top: 0;
    margin-bottom: var(--spacing-sm);
    font-size: 1.1em;
    border-bottom: 1px dashed var(--color-border);
    padding-bottom: var(--spacing-xs);
}

.status-item {
    display: flex;
    align-items: center;
    margin-bottom: var(--spacing-xs);
    color: var(--color-text-medium);
}

.status-item .icon {
    margin-right: var(--spacing-xs);
    font-size: 1.2em; /* Увеличиваем размер иконок */
    color: var(--color-primary); /* Цвет иконок */
}
/* Специфичные цвета для иконок */
.status-item.health .icon { color: var(--color-primary); }
.status-item.hunger .icon, .status-item.thirst .icon { color: var(--color-secondary); }
.status-item.fatigue .icon { color: var(--color-info); }
.status-item.survivors .icon { color: var(--color-info); }
.status-item.morale .icon { color: var(--color-secondary); }
.status-item.security .icon { color: var(--color-danger); }
.status-item.food .icon, .status-item.water .icon { color: var(--color-primary); }


/* Навигационные кнопки */
#game-navigation {
    display: flex;
    justify-content: center;
    gap: var(--spacing-sm);
    margin-top: var(--spacing-md);
    flex-wrap: wrap; /* Для адаптивности */
}

.nav-button {
    background-color: var(--color-background-light);
    color: var(--color-text-light);
    border: 1px solid var(--color-border);
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--spacing-xs);
    font-size: 1em;
    cursor: pointer;
    transition: background-color 0.2s ease, transform 0.1s ease, border-color 0.2s ease;
    flex-grow: 1; /* Чтобы кнопки занимали доступное место */
    max-width: 150px; /* Ограничиваем максимальную ширину кнопки */
}

.nav-button:hover {
    background-color: var(--color-primary);
    border-color: var(--color-primary);
    transform: translateY(-2px);
    color: var(--color-background-dark); /* Текст темнеет при наведении */
}

.nav-button.active {
    background-color: var(--color-primary);
    border-color: var(--color-primary);
    color: var(--color-background-dark);
    font-weight: bold;
    box-shadow: 0 0 8px rgba(76, 175, 80, 0.6);
}

/* Основной контент игры */
#game-main-content {
    background-color: var(--color-background-medium);
    border: 1px solid var(--color-border);
    border-radius: var(--spacing-md);
    padding: var(--spacing-lg);
    min-height: 400px; /* Увеличиваем для масштабности */
    position: relative; /* Для позиционирования секций */
}

.game-section {
    display: none; /* По умолчанию все секции скрыты */
    flex-direction: column; /* Используем flex для расположения элементов внутри секции */
    gap: var(--spacing-md);
    min-height: 350px; /* Чтобы секции не "прыгали" по высоте */
}

.game-section.active {
    display: flex; /* Активная секция отображается */
}

/* Текстовое окно игры */
#game-text {
    background-color: var(--color-background-light);
    border: 1px solid var(--color-border);
    border-radius: var(--spacing-sm);
    padding: var(--spacing-md);
    min-height: 180px; /* Увеличиваем высоту для большего текста */
    line-height: 1.7;
    font-size: var(--font-size-base);
    white-space: pre-wrap;
    overflow-y: auto; /* Добавляем прокрутку, если текста много */
    max-height: 250px; /* Ограничиваем максимальную высоту текста */
    box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.3); /* Внутренняя тень для глубины */
}

/* Контейнер для кнопок действий в сценах */
#options-container {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

/* Стили для всех игровых кнопок (опции, действия) */
.game-option-button, .game-action-button {
    background-color: var(--color-background-light);
    color: var(--color-text-light);
    border: 1px solid var(--color-border);
    padding: var(--spacing-md) var(--spacing-lg);
    border-radius: var(--spacing-xs);
    font-size: 1.05em;
    cursor: pointer;
    transition: background-color 0.2s ease, transform 0.1s ease, border-color 0.2s ease;
    text-align: left;
    width: 100%; /* Делаем кнопки на всю ширину */
    box-sizing: border-box; /* Учитываем padding и border в ширине */
}

.game-option-button:hover, .game-action-button:hover {
    background-color: var(--color-info);
    border-color: var(--color-info);
    transform: translateY(-2px);
    color: var(--color-background-dark);
}

.game-option-button:active, .game-action-button:active {
    background-color: var(--color-info);
    border-color: var(--color-info);
    transform: translateY(0);
    box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);
}

.game-action-button.primary-button { /* Для особо важных действий */
    background-color: var(--color-primary);
    color: var(--color-background-dark);
    font-weight: bold;
    border-color: var(--color-primary);
}
.game-action-button.primary-button:hover {
    background-color: var(--color-primary-hover);
    border-color: var(--color-primary-hover);
}


/* Стили для списков предметов/рецептов */
.item-list {
    background-color: var(--color-background-light);
    border: 1px solid var(--color-border);
    border-radius: var(--spacing-sm);
    padding: var(--spacing-md);
    max-height: 300px; /* Ограничиваем высоту списков */
    overflow-y: auto; /* Прокрутка для длинных списков */
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Адаптивная сетка */
    gap: var(--spacing-sm);
}

.item-list-item, .recipe-item, .faction-item {
    background-color: #444;
    border: 1px solid #555;
    border-radius: var(--spacing-xs);
    padding: var(--spacing-sm);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
    transition: background-color 0.2s ease;
}

.item-list-item:hover, .recipe-item:hover, .faction-item:hover {
    background-color: #555;
}

.item-name {
    font-weight: bold;
    color: var(--color-primary);
}

.item-description {
    font-size: 0.9em;
    color: var(--color-text-medium);
}

.item-actions {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-xs);
    margin-top: var(--spacing-sm);
}

.item-actions .game-action-button {
    width: auto; /* Кнопки действий внутри инвентаря могут быть уже */
    padding: var(--spacing-xs) var(--spacing-sm);
    font-size: 0.85em;
    text-align: center;
}

/* Стили для экипированных предметов */
.equipped-item {
    background-color: #4a5d4a; /* Более зеленый фон для экипированных */
    border-color: var(--color-primary);
    box-shadow: 0 0 5px rgba(76, 175, 80, 0.4);
}

/* Стили для рецептов */
.recipe-item.unavailable {
    background-color: var(--color-unavailable); /* Более темный красный для недоступных */
    border-color: var(--color-danger);
    opacity: 0.7;
}

.recipe-item .game-action-button[disabled] {
    background-color: var(--color-disabled);
    cursor: not-allowed;
    border-color: #444;
    color: #bbb;
    transform: none;
    box-shadow: none;
}

.missing-ingredient {
    color: var(--color-missing-ingredient);
    font-weight: bold;
}
.has-ingredient {
    color: var(--color-has-ingredient);
}
.missing-requirement {
    color: var(--color-danger);
    font-weight: bold;
    display: block; /* Каждое требование на новой строке */
}

/* Стили для фракций */
.faction-item .reputation-value {
    font-weight: bold;
}
.reputation-hostile { color: var(--color-danger); }
.reputation-unfriendly { color: #f96d00; } /* Оранжевый */
.reputation-neutral { color: var(--color-secondary); }
.reputation-friendly { color: var(--color-primary-hover); }
.reputation-allied { color: var(--color-primary); }


/* Игровой лог */
#game-log-container {
    background-color: var(--color-background-medium);
    border: 1px solid var(--color-border);
    border-radius: var(--spacing-md);
    padding: var(--spacing-md);
    margin-top: var(--spacing-lg);
}

#game-log {
    background-color: #222;
    border: 1px solid #333;
    border-radius: var(--spacing-sm);
    padding: var(--spacing-sm);
    max-height: 150px;
    overflow-y: auto;
    font-size: 0.85em;
    color: var(--color-text-medium);
    line-height: 1.4;
}

#game-log p {
    margin: 0;
    padding: 2px 0;
    border-bottom: 1px dotted #333; /* Разделитель сообщений */
}
#game-log p:last-child {
    border-bottom: none;
}


/* Адаптивность для маленьких экранов */
@media (max-width: 768px) {
    body {
        padding: var(--spacing-sm);
    }

    #game-container {
        padding: var(--spacing-md);
        border-radius: var(--spacing-sm);
    }

    #game-header h1 {
        font-size: 1.2em;
    }

    #status-bar {
        flex-direction: column;
        gap: var(--spacing-sm);
    }

    .status-group {
        min-width: unset; /* Снимаем ограничение */
        width: 100%; /* Занимаем всю ширину */
    }

    #game-navigation {
        flex-direction: column;
    }

    .nav-button {
        max-width: 100%;
    }

    #game-text {
        min-height: 100px;
        font-size: 0.95em;
    }

    .game-option-button, .game-action-button {
        padding: var(--spacing-sm) var(--spacing-md);
        font-size: 0.9em;
        text-align: center; /* Центрируем текст на мобильных */
    }

    .item-list {
        grid-template-columns: 1fr; /* Одна колонка на мобильных */
    }
}
